"use strict";(self.webpackChunksudeeparyan_knowledgebase=self.webpackChunksudeeparyan_knowledgebase||[]).push([[2607],{28519:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var t=s(74848),a=s(28453);const r={},i=void 0,o={id:"RAG360/Data Ingestion/Data Preparation/Source Connectors/Confluence Reader",title:"Confluence Reader",description:"1. The Confluence Loader allows users to load pages from a Confluence cloud",source:"@site/docs/RAG360/Data Ingestion/Data Preparation/Source Connectors/Confluence Reader.md",sourceDirName:"RAG360/Data Ingestion/Data Preparation/Source Connectors",slug:"/RAG360/Data Ingestion/Data Preparation/Source Connectors/Confluence Reader",permalink:"/docs/RAG360/Data Ingestion/Data Preparation/Source Connectors/Confluence Reader",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"ragSidebar",previous:{title:"Local Directory Reader",permalink:"/docs/RAG360/Data Ingestion/Data Preparation/Source Connectors/Local Directory Reader"},next:{title:"Source Documents",permalink:"/docs/category/source-documents"}},c={},d=[{value:"Methods to Load Confluence Pages",id:"methods-to-load-confluence-pages",level:4},{value:"Additional Configuration Options",id:"additional-configuration-options",level:4},{value:"Attachments",id:"attachments",level:4},{value:"Learn more about Confluence Reader",id:"learn-more-about-confluence-reader",level:3},{value:"Example",id:"example",level:3},{value:"Reference Link",id:"reference-link",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",h4:"h4",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["The Confluence Loader allows users to load pages from a Confluence cloud\ninstance by specifying the base URL (must end with ",(0,t.jsx)(n.code,{children:"/wiki"}),")."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Users can authenticate using OAuth 2.0 credentials or environment variables.\nIf no credentials are provided, the loader will check for the following\nenvironment variables in order:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"OAuth 2.0 credentials"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"API Token (CONFLUENCE_API_TOKEN)"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Username and Password (CONFLUENCE_USERNAME and CONFLUENCE_PASSWORD)"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"CONFLUENCE_PASSWORD"})," should be an API Token, not your actual\npassword. API Tokens can be obtained\n",(0,t.jsx)(n.a,{href:"https://id.atlassian.com/manage-profile/security/api-tokens",children:"here"}),"."]})]}),"\n",(0,t.jsx)(n.h4,{id:"methods-to-load-confluence-pages",children:"Methods to Load Confluence Pages"}),"\n",(0,t.jsx)(n.p,{children:"Confluence pages can be loaded in four ways:"}),"\n",(0,t.jsxs)("table",{class:"table-size-for-cloud-services",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Method"}),(0,t.jsx)("th",{children:"Description"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("span",{class:"custom-header",children:"page_ids"})}),(0,t.jsxs)("td",{children:["Load pages based on a list of specific page IDs. Optionally, set ",(0,t.jsx)("code",{children:"include_children"})," to load all descendant pages."]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("span",{class:"custom-header",children:"space_key"})}),(0,t.jsxs)("td",{children:["Load all pages within a specified space. You can further filter by ",(0,t.jsx)("code",{children:"page_status"})," (e.g., 'current', 'archived', 'draft')."]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("span",{class:"custom-header",children:"label"})}),(0,t.jsx)("td",{children:"Load all pages with a specific label."})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("span",{class:"custom-header",children:"CQL (Confluence Query Language)"})}),(0,t.jsxs)("td",{children:["Load pages that match a specific CQL query. Learn more about CQL ",(0,t.jsx)("a",{href:"https://developer.atlassian.com/cloud/confluence/advanced-searching-using-cql/",target:"_blank",children:"here"}),"."]})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"additional-configuration-options",children:"Additional Configuration Options"}),"\n",(0,t.jsxs)("table",{class:"table-size-for-cloud-services",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Parameter"}),(0,t.jsx)("th",{children:"Description"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("span",{class:"custom-header",children:"max_num_results (int)"})}),(0,t.jsxs)("td",{children:["Specifies the maximum number of results to return. If set to ",(0,t.jsx)("code",{children:"None"}),", all results are returned."]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("span",{class:"custom-header",children:"start (int)"})}),(0,t.jsxs)("td",{children:["Sets the offset for loading pages when using ",(0,t.jsx)("code",{children:"space_key"}),"."]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("span",{class:"custom-header",children:"cursor (str)"})}),(0,t.jsxs)("td",{children:["An alternative to ",(0,t.jsx)("code",{children:"start"}),' for CQL queries; it serves as a pointer to the next "page" in search results.']})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"attachments",children:"Attachments"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Users can include attachments by setting ",(0,t.jsx)(n.code,{children:"include_attachments"})," to ",(0,t.jsx)(n.code,{children:"True"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Supported attachment types include PDF, PNG, JPEG/JPG, SVG, Word, and Excel."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"The loader will extract text from these attachments and add it to the Document object."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"space_key"})," and ",(0,t.jsx)(n.code,{children:"page_id"})," can be found in the URL of a Confluence\npage (e.g.,\n",(0,t.jsx)(n.code,{children:"https://yoursite.atlassian.com/wiki/spaces/<space_key>/pages/<page_id>"}),")."]})]}),"\n",(0,t.jsx)(n.h3,{id:"learn-more-about-confluence-reader",children:"Learn more about Confluence Reader"}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsx)(n.p,{children:"For more information on authenticating with OAuth 2.0, visit:"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://atlassian-python-api.readthedocs.io/index.html",children:"Atlassian Python API Documentation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://developer.atlassian.com/cloud/confluence/oauth-2-3lo-apps/",children:"Atlassian Developer Guide for OAuth 2.0"})}),"\n"]})]}),"\n",(0,t.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,t.jsx)(n.p,{children:"Reading the pages with the page_id"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'from llama_index.readers.confluence import ConfluenceReader\n\ntoken = {"access_token": "<access_token>", "token_type": "<token_type>"}\noauth2_dict = {"client_id": "<client_id>", "token": token}\n\nbase_url = "https://yoursite.atlassian.com/wiki"\n\npage_ids = ["<page_id_1>", "<page_id_2>", "<page_id_3"]\nspace_key = "<space_key>"\n\nreader = ConfluenceReader(base_url=base_url, oauth2=oauth2_dict)\ndocuments = reader.load_data(\n    space_key=space_key, include_attachments=True, page_status="current"\n)\ndocuments.extend(\n    reader.load_data(\n        page_ids=page_ids, include_children=True, include_attachments=True\n    )\n)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"reference-link",children:"Reference Link"}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsxs)(n.p,{children:["For more Hands on Example Refer this\n",(0,t.jsx)(n.a,{href:"https://llamahub.ai/l/readers/llama-index-readers-confluence?from=",children:"Link"})]})]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var t=s(96540);const a={},r=t.createContext(a);function i(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);