"use strict";(self.webpackChunksudeeparyan_knowledgebase=self.webpackChunksudeeparyan_knowledgebase||[]).push([[4301],{62299:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>d});var t=s(74848),r=s(28453);const a={},i=void 0,o={id:"RAG360/Retrieval/Unstructured/Query Optimization/Query Transformations/Overview",title:"Overview",description:"What is Query Transformation?",source:"@site/docs/RAG360/Retrieval/Unstructured/Query Optimization/Query Transformations/Overview.md",sourceDirName:"RAG360/Retrieval/Unstructured/Query Optimization/Query Transformations",slug:"/RAG360/Retrieval/Unstructured/Query Optimization/Query Transformations/Overview",permalink:"/docs/RAG360/Retrieval/Unstructured/Query Optimization/Query Transformations/Overview",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"ragSidebar",previous:{title:"Query Transformations",permalink:"/docs/category/query-transformations"},next:{title:"Query Expansion",permalink:"/docs/RAG360/Retrieval/Unstructured/Query Optimization/Query Transformations/Query Expansion"}},c={},d=[{value:"What is Query Transformation?",id:"what-is-query-transformation",level:4},{value:"Why We Need Query Transformation",id:"why-we-need-query-transformation",level:3},{value:"Advantages and Disadvantages",id:"advantages-and-disadvantages",level:3},{value:"Advantages",id:"advantages",level:4},{value:"Disadvantages",id:"disadvantages",level:4},{value:"Examples",id:"examples",level:3},{value:"<strong>Reference Links</strong>",id:"reference-links",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",h4:"h4",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h4,{id:"what-is-query-transformation",children:"What is Query Transformation?"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Query Transformation involves modifying a user's original query to improve\nthe effectiveness and accuracy of retrieving information from large datasets\nor language models."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"In Retrieval-Augmented Generation (RAG) systems, this process is essential as\nit significantly impacts the quality of retrieved information by enhancing\nhow the query is presented."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Serving as a preprocessing step, Query Transformation optimizes the\ninteraction between user input and the AI's retrieval capabilities, ensuring\nthat queries are well-suited to leverage the algorithms and data structures\nof large language models (LLMs), thereby enhancing the relevance and accuracy\nof the generated responses."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"why-we-need-query-transformation",children:"Why We Need Query Transformation"}),"\n",(0,t.jsx)(n.p,{children:"Original user queries often lack the clarity, focus, or specificity needed to\neffectively retrieve high-quality information from complex databases or LLMs.\nThey may be too vague, ambiguous, or overly broad, leading to poor retrieval\nperformance and irrelevant answers."}),"\n",(0,t.jsx)(n.h3,{id:"advantages-and-disadvantages",children:"Advantages and Disadvantages"}),"\n",(0,t.jsx)(n.h4,{id:"advantages",children:"Advantages"}),"\n",(0,t.jsxs)("table",{class:"table-size-for-cloud-services",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Factors"}),(0,t.jsx)("th",{children:"Reason"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("span",{class:"custom-header",children:"Efficiency"})}),(0,t.jsx)("td",{children:"Saves time and computational resources by increasing the precision of search results."})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("span",{class:"custom-header",children:"Scalability"})}),(0,t.jsx)("td",{children:"Applicable to a wide range of domains and can handle increasing complexities in user queries."})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("span",{class:"custom-header",children:"Understanding"})}),(0,t.jsx)("td",{children:"Improves the interpretability of user queries by the system, leading to better outcomes."})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"disadvantages",children:"Disadvantages"}),"\n",(0,t.jsxs)("table",{class:"table-size-for-cloud-services",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Factors"}),(0,t.jsx)("th",{children:"Reason"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("span",{class:"custom-header",children:"Complexity"})}),(0,t.jsx)("td",{children:"The process may introduce an additional layer of complexity in query processing."})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("span",{class:"custom-header",children:"Resource Usage"})}),(0,t.jsx)("td",{children:"May require significant computational power, especially with complex algorithms for transformation."})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("span",{class:"custom-header",children:"Limitations"})}),(0,t.jsx)("td",{children:"Not all queries can be transformed effectively, which may lead to inconsistencies in retrieval quality."})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'Prompt\n\nSEARCH_QUERY_PROMPT="""You act as an expert in understanding the meaning of "Question" and converting them into precise search queries.\nThe query you generate will be used to search for the answer, so ensure the "Search query" is clear and accurately reflects the user\'s intent.\n\nFollow the below instructions and generate the Search Query:\n1. The chat history is a record of the conversation between the user and Vina, the AI Chat Assistant. It consists of pairs of user questions and Vina\'s responses, listed in chronological order with the most recent question at the end (Question-Response format).\n2. Please, Do not use the "Chat_History" if the "Question" is clear and does not need additional context.\n3. Retain all the important keywords in the question and Do not modify it.\n4. Retain abbreviations as they appear in the question unless contextually incorrect.\n5. Don\'t use question marks in the search query.\n6. If the question itself is a search query, return the same query.\n\n\nPlease return ONLY the Search Query.\nDO NOT add any NOTE or explanations on how the Search Query is generated.\n\n\nChat_History (enclosed in a XML tag below) used as a reference to frame the search query:\n<chat_history>{chat_history}</chat_history>\n\nQuestion (enclosed in a XML tag below) that needs to be formatted:\n<question>{user_query}</question>\n\nSearch query:\n\n"""\nSEARCH_QUERY_TEMPLATE = Prompt(SEARCH_QUERY_PROMPT)\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"prompt = SEARCH_QUERY_TEMPLATE.format(\n            chat_history=conversation, user_query=task.input\n        )\n\n        # Get the search query from the chat history\n        completion_response = self.llm_for_reasoning.complete(prompt)\n        search_query = completion_response.text\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"reference-links",children:(0,t.jsx)(n.strong,{children:"Reference Links"})}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://blog.langchain.dev/deconstructing-rag/",children:"Source Link"})})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var t=s(96540);const r={},a=t.createContext(r);function i(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);