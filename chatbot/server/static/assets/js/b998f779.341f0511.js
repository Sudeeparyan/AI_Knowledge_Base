"use strict";(self.webpackChunksudeeparyan_knowledgebase=self.webpackChunksudeeparyan_knowledgebase||[]).push([[3510],{24336:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>d});var o=n(74848),l=n(28453);const a={},r=void 0,s={id:"AI360/Agents/LangGraph/Router",title:"Router",description:"Router is where the chat model routes between a direct response or a tool call based on the user query.",source:"@site/docs/AI360/Agents/LangGraph/Router.md",sourceDirName:"AI360/Agents/LangGraph",slug:"/AI360/Agents/LangGraph/Router",permalink:"/docs/AI360/Agents/LangGraph/Router",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"AI360Sidebar",previous:{title:"Chain",permalink:"/docs/AI360/Agents/LangGraph/Chain"},next:{title:"Agent",permalink:"/docs/AI360/Agents/LangGraph/Agent"}},i={},d=[];function c(e){const t={code:"code",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"Router is where the chat model routes between a direct response or a tool call based on the user query."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"router",src:n(95436).A+"",width:"154",height:"289"})}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:'The doted lines from the "tool_calling_llm" is Conditional edge. this will look at the chat model model output, and route to our tool calling node or simply end if no tool call is performed.'}),"\n"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:'   from langchain_openai import ChatOpenAI\n\n   def multiply(a: int, b: int) -> int:\n       """Multiply a and b.\n\n       Args:\n           a: first int\n           b: second int\n       """\n       return a * b\n\n   llm = ChatOpenAI(model="gpt-4o")\n   llm_with_tools = llm.bind_tools([multiply])\n'})}),"\n",(0,o.jsxs)(t.ol,{start:"2",children:["\n",(0,o.jsx)(t.li,{children:"Build the StateGraph for the above diagram."}),"\n"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:'   from langgraph.graph import StateGraph, START, END\n   from langgraph.graph import MessagesState\n   from langgraph.prebuilt import ToolNode\n   from langgraph.prebuilt import tools_condition\n\n   # Node\n   def tool_calling_llm(state: MessagesState):\n       return {"messages": [llm_with_tools.invoke(state["messages"])]}\n\n   # Build graph\n   builder = StateGraph(MessagesState)\n   builder.add_node("tool_calling_llm", tool_calling_llm)\n   builder.add_node("tools", ToolNode([multiply]))\n   builder.add_edge(START, "tool_calling_llm")\n   builder.add_conditional_edges(\n       "tool_calling_llm",\n       # If the latest message (result) from assistant is a tool call -> tools_condition routes to tools\n       # If the latest message (result) from assistant is a not a tool call -> tools_condition routes to END\n       tools_condition,\n   )\n   builder.add_edge("tools", END)\n   graph = builder.compile()\n'})})]})}function p(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},95436:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/router-7c164a7ce683a9f82d9a0b14ad9b5244.png"},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>s});var o=n(96540);const l={},a=o.createContext(l);function r(e){const t=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);